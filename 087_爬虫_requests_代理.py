# _*_ coding : utf-8 _*_
# @Time : 2022/11/23 21:56
# @Author : www.lmxyz.xyz
# @File : 087_爬虫_requests_代理
# @Project : spider-study

import requests

url = 'https://www.baidu.com/s?'

headers = {
    'accept': 'image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8',
    'Cookie': 'PSTM=1663922924; BIDUPSID=BBDE18C97E9ED7DF38660A40A268901C; BAIDUID=794D2228CF69064F4F5C71E4510BC902:SL=0:NR=10:FG=1; sug=3; sugstore=1; ORIGIN=0; bdime=0; H_WISE_SIDS=110085_132547_194530_204427_204904_211986_212295_213045_213350_214794_215727_216854_216942_217168_218566_219623_219943_219946_220017_220662_222298_222396_222624_223064_224045_224047_224159_224456_226006_226088_226293_226547_226628_226815_227266_227528_227732_227932_227973_228370_228650_229061_229154_229685_229914_229945_229976_230435_230662_230846_230925_230930_231025_231419_231498_231628_231653_231721_231753_231763_231842_231906_231979_232220_232253_232299_232357_232409_232626_232678_232685_232720_232729_232735_232777_232780_232782_232825_232878_232910_232926_233006_233037_233072_233118_233137_233177_233216_233396_233464_233503_233588_233600_233605_233864_233947_233953_233963_234020_234100; H_WISE_SIDS_BFESS=110085_132547_194530_204427_204904_211986_212295_213045_213350_214794_215727_216854_216942_217168_218566_219623_219943_219946_220017_220662_222298_222396_222624_223064_224045_224047_224159_224456_226006_226088_226293_226547_226628_226815_227266_227528_227732_227932_227973_228370_228650_229061_229154_229685_229914_229945_229976_230435_230662_230846_230925_230930_231025_231419_231498_231628_231653_231721_231753_231763_231842_231906_231979_232220_232253_232299_232357_232409_232626_232678_232685_232720_232729_232735_232777_232780_232782_232825_232878_232910_232926_233006_233037_233072_233118_233137_233177_233216_233396_233464_233503_233588_233600_233605_233864_233947_233953_233963_234020_234100; H_PS_PSSID=36552_36921_37493_37832_34812_37778_37824_37724_37795_37712_37740_26350_37791; BD_UPN=12314753; BDORZ=B490B5EBF6F3CD402E515D22BCDA1598; BAIDUID_BFESS=794D2228CF69064F4F5C71E4510BC902:SL=0:NR=10:FG=1; delPer=0; BD_CK_SAM=1; PSINO=1; baikeVisitId=2a647793-b166-4eb4-9a32-db0277781983; H_PS_645EC=28d3StVvZvWW0CVT6QZLVbhq7ANerbBnGE4JmsXF2/TpPu1pb5XQm39VH7k; BA_HECTOR=8l0lal802ka02hag850529pg1hnsaj71e',
    # 'sec-ch-ua': '"Google Chrome";v="107", "Chromium";v="107", "Not=A?Brand";v="24"',
    # 'sec-ch-ua-mobile': '?0',
    # 'sec-ch-ua-platform': '"Windows"',
    'Referer': 'https://www.baidu.com/s?ie=utf-8&f=8&rsv_bp=1&rsv_idx=1&tn=baidu&wd=ip&fenlei=256&rsv_pq=0x99437db20008cb97&rsv_t=1afeBAiNmBaoVkLGqnZ0sM257hBa36XZPNtet/uZ8Wo4B49j1PRbz0155AmH&rqlang=en&rsv_enter=1&rsv_dl=tb&rsv_sug3=3&rsv_sug1=2&rsv_sug7=100&rsv_sug2=0&rsv_btype=i&inputT=712&rsv_sug4=1392',
    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/107.0.0.0 Safari/537.36'
}

data = {
    'wd': 'ip'
}
proxy = {
    'http': '121.13.252.62:41564'
}
response = requests.get(url=url, params=data, headers=headers,proxies=proxy)

content = response.text

with open('daili.html', 'w', encoding='utf-8') as fp:
    fp.write(content)
