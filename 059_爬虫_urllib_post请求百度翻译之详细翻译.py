# _*_ coding : utf-8 _*_
# @Time : 2022/11/21 22:09
# @Author : www.lmxyz.xyz
# @File : 059_爬虫_urllib_post请求百度翻译之详细翻译
# @Project : spider-study

import urllib.request
import urllib.parse

url = 'https://fanyi.baidu.com/v2transapi?from=en&to=zh'

headers = {
    # 'Accept': '*/*',
    # 'Accept-Encoding': 'gzip, deflate, br',
    # 'Accept-Language': 'zh-CN,zh;q=0.9,en;q=0.8',
    # 'Acs-Token': '1669014202229_1669040382640_yOGXA09kaE+Kd+XaUAbSuyz5QRX72pN4HrIHlYkrfQt8Uo6mjcUbfvwHoG2S+aOlgdgR0Q7zu5TDi+YXwEkJav3E6YbspIxkHFSM5EPXf7IKh3KMuq/XxtMBpmWAp4xMRK2xULq6UJZVPq9cn5eFyo2hCh9LCotetay7Rhiib07rVpahj69Rp8fKteHx+CPud+CxlfNvvx+2gQflw58sNunBXAT4Wx10sCMaUk1/NaqmHZI7ao6t5knGJOkW70JOTTnNKYiMEhFmEGPmAXJOl8I20QwYlhLvczNkwYQwCvPZVD5cJStvpiZ7Qm+Cdo2zNh6bJIQ+ysdY7Y/XTU/wfaGTVftwhR99HLw3ilUG8RQ=',
    # 'Connection': 'keep-alive',
    # 'Content-Length': '116',
    # 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',
    'Cookie': 'PSTM=1663922924; BIDUPSID=BBDE18C97E9ED7DF38660A40A268901C; BAIDUID=794D2228CF69064F4F5C71E4510BC902:SL=0:NR=10:FG=1; APPGUIDE_10_0_2=1; REALTIME_TRANS_SWITCH=1; FANYI_WORD_SWITCH=1; HISTORY_SWITCH=1; SOUND_SPD_SWITCH=1; SOUND_PREFER_SWITCH=1; Hm_lvt_64ecd82404c51e03dc91cb9e8c025574=1665909035,1666368371,1666872870,1667097509; H_WISE_SIDS=110085_132547_194530_204427_204904_211986_212295_213045_213350_214794_215727_216854_216942_217168_218566_219623_219943_219946_220017_220662_222298_222396_222624_223064_224045_224047_224159_224456_226006_226088_226293_226547_226628_226815_227266_227528_227732_227932_227973_228370_228650_229061_229154_229685_229914_229945_229976_230435_230662_230846_230925_230930_231025_231419_231498_231628_231653_231721_231753_231763_231842_231906_231979_232220_232253_232299_232357_232409_232626_232678_232685_232720_232729_232735_232777_232780_232782_232825_232878_232910_232926_233006_233037_233072_233118_233137_233177_233216_233396_233464_233503_233588_233600_233605_233864_233947_233953_233963_234020_234100; H_WISE_SIDS_BFESS=110085_132547_194530_204427_204904_211986_212295_213045_213350_214794_215727_216854_216942_217168_218566_219623_219943_219946_220017_220662_222298_222396_222624_223064_224045_224047_224159_224456_226006_226088_226293_226547_226628_226815_227266_227528_227732_227932_227973_228370_228650_229061_229154_229685_229914_229945_229976_230435_230662_230846_230925_230930_231025_231419_231498_231628_231653_231721_231753_231763_231842_231906_231979_232220_232253_232299_232357_232409_232626_232678_232685_232720_232729_232735_232777_232780_232782_232825_232878_232910_232926_233006_233037_233072_233118_233137_233177_233216_233396_233464_233503_233588_233600_233605_233864_233947_233953_233963_234020_234100; BDORZ=FFFB88E999055A3F8A630C64834BD6D0; BDUSS=doWjBoYUh5ZXRVZjZmRnZGRWVQQS16V2otZUY5N1BRZnFXZHNvRktOWWducUpqRUFBQUFBJCQAAAAAAQAAAAEAAAB95PxVy6vT4-Ts1vH2rMbpAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACARe2MgEXtjQz; BDUSS_BFESS=doWjBoYUh5ZXRVZjZmRnZGRWVQQS16V2otZUY5N1BRZnFXZHNvRktOWWducUpqRUFBQUFBJCQAAAAAAQAAAAEAAAB95PxVy6vT4-Ts1vH2rMbpAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACARe2MgEXtjQz; BAIDUID_BFESS=794D2228CF69064F4F5C71E4510BC902:SL=0:NR=10:FG=1; PSINO=2; delPer=0; H_PS_PSSID=36552_37559_37517_36921_37493_34812_37778_37824_37724_37795_37532_37712_37740_26350_37791; BA_HECTOR=ag0021al812l012h2l2g21nk1hnn0kg1e; ZFY=W:Ak5GvmawTfw3WSkt7gQmWyOGAJnlnDRdV3inyKF:B4k:C',
    # 'Host': 'fanyi.baidu.com',
    # 'Origin': 'https://fanyi.baidu.com',
    # 'Referer': 'https://fanyi.baidu.com/?aldtype=16047&tpltype=sigma',
    # 'sec-ch-ua': '"Google Chrome";v="107", "Chromium";v="107", "Not=A?Brand";v="24"',
    # 'sec-ch-ua-mobile': '?0',
    # 'sec-ch-ua-platform': '"Windows"',
    # 'Sec-Fetch-Dest': 'empty',
    # 'Sec-Fetch-Mode': 'cors',
    # 'Sec-Fetch-Site': 'same-origin',
    # 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/107.0.0.0 Safari/537.36',
    # 'X-Requested-With': ' XMLHttpRequest'
}

data = {
    'from': 'en',
    'to': 'zh',
    'query': 'love',
    # 'transtype': 'realtime',
    'simple_means_flag': '3',
    'sign': '198772.518981',
    'token': '47bacfc4ca597ba559febba3b1cfd58f',
    'domain': 'common'
}

# post请求的参数必须进行编码 并且调用encode方法
data = urllib.parse.urlencode(data).encode('utf-8')

# 请求对象的定制
request = urllib.request.Request(url=url, data=data, headers=headers)

# 模拟浏览器向服务器发送请求
response = urllib.request.urlopen(request)

# 获取响应的数据
content = response.read().decode('utf-8')

import json

obj = json.loads(content)
print(obj)
